<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Scan et assemblage d’images &#8212; documentation canopee-docs 0.1 alpha</title>
    
    <link rel="stylesheet" href="../_static/jinja.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1 alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="top" title="documentation canopee-docs 0.1 alpha" href="../index.html" />
    <link rel="up" title="Photoshop" href="index.html" />
    <link rel="next" title="FAQ Photoshop" href="faq_psd.html" />
    <link rel="prev" title="Préparer une jaquette de CD" href="jaquette_CD.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="faq_psd.html" title="FAQ Photoshop"
             accesskey="N">suivant</a></li>
        <li class="right" >
          <a href="jaquette_CD.html" title="Préparer une jaquette de CD"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">documentation canopee-docs 0.1 alpha</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Photoshop</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="scan-et-assemblage-d-images">
<span id="scan-assemblage-images-psd-gimp"></span><h1>Scan et assemblage d&#8217;images</h1>
<div class="section" id="scan-considerations-generales">
<h2>Scan : considérations générales</h2>
<p>Les fois où l&#8217;on a besoin de scanner des images sont nombreuses :</p>
<ul>
<li><dl class="first docutils">
<dt>extension d&#8217;une construction existante :</dt>
<dd><ul class="first last simple">
<li>numérisation du plan papier existant</li>
<li>import dans AutoCAD</li>
<li>mise à l&#8217;échelle (en utilisant l&#8217;option &#8220;référence&#8221;)</li>
<li>vectorisation de celui-ci, ou</li>
<li>reprise complète du dessin, avec l&#8217;image en fond de plan</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>ajout d&#8217;un plan cadastral :</dt>
<dd><ul class="first last simple">
<li>numérisation</li>
<li>import dans AutoCAD</li>
<li>mise à l&#8217;échelle (en utilisant l&#8217;option &#8220;référence&#8221;)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>numérisation de plan papier :</dt>
<dd><ul class="first last simple">
<li>numérisation de plan A0 (scanner à rouleau)</li>
<li>vectorisation dans la foulée</li>
<li>destruction du plan papier pour gagner en espace de stockage ... et diminuer les risques incendie, dégâts des eaux, au regard du délai de conservation trentenaire des documents.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">ajout d&#8217;un logo, etc.</p>
</li>
</ul>
<p>Les appareils de numérisation de documents papier sont des <em>scanners</em>. Ils sont équipés d&#8217;une caméra qui prend une &#8220;photo&#8221; du document, en fonction d&#8217;une zone que l&#8217;on aura déterminé à l&#8217;avance.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>Résolution de scannage :</dt>
<dd>attention à la taille des fichiers! Si on cherche à numériser un document avec une résolution trop élévée, la taille de l&#8217;image risque d&#8217;être disproportionnée par rapport à son utilisation. Une résolution de 300 dpi semble être correcte dans la plupart des cas</dd>
<dt>Taille et poids :</dt>
<dd>essayez de travailler avec des images &#8220;pesant&#8221; 3 à 4 Mo maximum. Dans le cas d&#8217;un assemblage de plusieurs d&#8217;entre-elles, on arrive souvent à une image finale de plus de 100 MO !</dd>
<dt>Mémoire vive disponible :</dt>
<dd>Ordinateur 32 bit : 4 GO semblent un minimum. (Essayez de charger une image (scannée bien-sûr!) de ~150 MO dans AutoCAD 32 bit, sur un ordinateur peu véloce, avec &#8220;juste&#8221; 2 GO de RAM : c&#8217;est impossible!)
Pour les autres, en 64 bit, on peut rapidement grimper à 8 GO pour plus de confort.</dd>
</dl>
</div>
<dl class="docutils">
<dt>Logiciels :</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>numérisation :</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://www.adobe.com/fr/products/photoshop/photoshop/">Photoshop</a> bien sûr, mais attention : gourmand en RAM. Si vous tenez à travailler sur un ordinateur &#8220;de salon&#8221;, essayez</li>
<li><a class="reference external" href="http://www.gimp.org/">Gimp</a> : on y arrive aussi, et gratuitement en prime.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>assemblage :</dt>
<dd><ul class="first last simple">
<li>les logiciels précedent permettent de &#8220;bricoler&#8221; un assemblage/panorama, soit manuellement, soit à l&#8217;aide de script/plugins. Si le projet contient 2400 images, il vaut mieux essayez des logiciels dédiés à cet usage, comme</li>
<li><a class="reference external" href="http://www.autopano.net/fr">autopano</a> : léger, pas très cher (100 €) et très performant. (pour les panoramas comportant une netteté époustouflante, ainsi qu&#8217;un nombre d&#8217;images incroyable, visitez les sites comme <a class="reference external" href="http://www.paris-20-gigapixels.com/fr/">http://www.paris-20-gigapixels.com/fr/</a>, <a class="reference external" href="http://www.yosemite-17-gigapixels.com/">http://www.yosemite-17-gigapixels.com/</a>, <a class="reference external" href="http://www.harlem-13-gigapixels.com/">http://www.harlem-13-gigapixels.com/</a>)</li>
<li>autodesk <em>stitcher</em> : interface &#8220;design&#8221; mais résultats quelquefois décevants.</li>
<li>hugin (interface graphique à autopano) : gratuit &#8211;&gt; rend de bons services, mais patience+ingéniosité nécessaire!</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="scan-psd">
<h2>Scan : Photoshop</h2>
<div class="section" id="scan">
<h3>Scan</h3>
<ul>
<li><p class="first">déposer le document à scanner sur la vitre d&#8217;exposition légèrement en travers, pour forcer le détramage de l&#8217;image</p>
</li>
<li><p class="first"><span class="menuselection">fichier ‣ importation ‣ epsonGT-1000</span> . le nom de votre logiciel/pilote &#8220;twain&#8221; changera en fonction de votre scanner...ici c&#8217;est un scanner A3 &#8220;EPSON GT10000+&#8221;</p>
</li>
<li><p class="first">effectuez une prévisualisation, et réglez la fenêtre de scannage (zone en pointillée) à la taille / portion de document que vous désirez numériser.</p>
</li>
<li><p class="first">réglez les options de scan à des valeurs minimales :</p>
<blockquote>
<div><ul class="simple">
<li>résolution : 300 dpi (attention : un scan en A3 d&#8217;un document assez riche en détails, le tout sous une résolution de 1200 dpi, va &#8220;peser&#8221; facilement 350/450 MO !)</li>
<li>si document en couleur : 24 bit couleur</li>
<li>si document au trait : noir et blanc</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">scannez (= numérisez)</p>
</li>
<li><p class="first">fermez le logiciel de scannage</p>
</li>
<li><p class="first">depuis Photoshop, enregistrez l&#8217;image  en format &#8220;natif&#8221; par défaut : le <code class="file docutils literal"><span class="pre">*.psd</span></code> (<code class="file docutils literal"><span class="pre">scan_maison-turlier_001.psd</span></code>, <code class="file docutils literal"><span class="pre">scan..2.psd</span></code>, etc.)</p>
</li>
</ul>
<p>Si ces scans ont un &#8220;poids&#8221; trop important (3 à 4 MO semblent un maximum) :</p>
<blockquote>
<div><ul class="simple">
<li>fichier &gt; eregistrer pour le web et les périphériques</li>
<li>choix paramètre prédéfini : jpeg supérieur</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="post-traitement-des-images">
<h3>Post-traitement des images</h3>
<ul>
<li><dl class="first docutils">
<dt>redressement image :</dt>
<dd><ul class="first last simple">
<li>outil &gt; règle (accessible sous la pipette) : tracez une droite partant du coin gauche supérieur vers le coin droit supérieur</li>
<li>image &gt; rotation de l&#8217;image &gt; paramétrée : la valeur de rotation est déjà calculée, grâce au traçage de la règle (si l&#8217;image apparaît à l&#8217;envers : indiquez 180°)</li>
<li>OK</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Découpe des bords inutiles :</dt>
<dd><ul class="first last simple">
<li>outil &gt; recadrage, ou C</li>
<li>tracez une zone</li>
<li>ajustez-là finement</li>
<li>validez par OK</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Couleurs (tons clairs vers blanc et tons foncés vers noir) :</dt>
<dd><ul class="first last">
<li><p class="first">outil &gt; pipette (doit être dessous l&#8217;outil règle)</p>
</li>
<li><p class="first">maj + pipette et :</p>
<blockquote>
<div><ul class="simple">
<li>cliquez sur 2 points distants les plus blancs de l&#8217;image</li>
<li>cliquez sur 2 points distants les plus noirs de l&#8217;image</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">affichez la palette information : <code class="kbd docutils literal"><span class="pre">F8</span></code></p>
</li>
<li><p class="first">affichage des valeurs en &#8220;niveau de gris&#8221; : vers le bas de la palette, cliquez sur l&#8217;icone de la pipette, en dessous des chifffres, et choisisez &#8220;niveau de gris&#8221; dans le menu déroulant</p>
</li>
<li><p class="first"><span class="menuselection">Image ‣réglage ‣niveaux</span></p>
</li>
<li><p class="first">faites bouger le curseur des tons noirs (à gauche) légèrement vers la droite, jusqu&#8217;à que les points noirs présents dans la palette d&#8217;information soient à 100%</p>
</li>
<li><p class="first">faites bouger le curseur des blancs légèrement vers la gauche, jusquà que les points blancs de la palette soient à 0%</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Renforcement netteté :</dt>
<dd><ul class="first last simple">
<li>filtre &gt; renforcement &gt; netteté optimisée</li>
<li>grain : 200% maxi</li>
<li>rayon : 1 pixel</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="scan-gimp">
<h2>Scan : Gimp</h2>
</div>
<div class="section" id="assemblage-photoshop">
<h2>Assemblage : Photoshop</h2>
<p>utilisation du script &#8220;photomerge&#8221; de création de panoramas</p>
<dl class="docutils">
<dt><span class="menuselection">Fichier ‣ automatisation ‣ photomerge</span></dt>
<dd>choix (c&#8217;est pour assembler +sieurs scans en une seule image) : collage
sélectionner les fichiers à coller (les 2 images scannées précédentes)
validez (le traitement est automatique)</dd>
</dl>
<p>Avantage : intégré à toshop, facile
Inconvénient : on a aucun contrôle sur le processus, et celui-ci peut donner des résultats abberrants.</p>
<p>Type de format de fichier pour l&#8217;enregistrement de l&#8217;image assemblée</p>
<div class="section" id="id1">
<h3>Gimp</h3>
<p>Ouverture de toutes les images :
* lancez gimp
* avec la commande <code class="kbd docutils literal"><span class="pre">ctrl</span> <span class="pre">+</span> <span class="pre">o</span></code>, ouvrez toutes les images à assembler</p>
</div>
</div>
<div class="section" id="assemblage-autopano-pro">
<h2>Assemblage : Autopano Pro</h2>
<p><a class="reference external" href="http://www.autopano.net/fr">Autopano Pro/Giga</a> est un logiciel dédié à la réalisation de panoramas.</p>
<p>Parmi l&#8217;éventail des logiciels offrant cette fonctionnlaité, c&#8217;est l&#8217;un des plus efficace ; c&#8217;est la version payante d&#8217;un logiciel libre/gratuit en ligne de commande, <a class="reference external" href="http://autopano.kolor.com/">autopano</a> , dont l&#8217;interface graphique est <a class="reference external" href="http://hugin.sourceforge.net/">Hugin</a> .</p>
<p>Vous trouverez une documentation très riche sur le <a class="reference external" href="http://www.autopano.net/wiki-fr/action/view/Accueil">wiki</a> d&#8217;autopano</p>
<div class="section" id="installation">
<h3>Installation</h3>
<ol class="arabic simple">
<li>Téléchargez la version d&#8217;essai en vous rendant sur le site éponyme</li>
<li>Configurez le logiciel pour qu&#8217;il utilise au mieux les capacités de votre ordinateur :</li>
</ol>
<ul>
<li><p class="first">préférences :</p>
<blockquote>
<div><ul class="simple">
<li>% de RAM à utiliser et priorité du processus</li>
<li>nombre de coeurs/processeurs</li>
<li>quantité de RAM</li>
<li>emplacement du répertoire temporaire</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">détection :</p>
<blockquote>
<div><ul class="simple">
<li>qualité : standard ou haute (+ lente)</li>
<li>points de contrôle : 50 minimum</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">optimisation :</p>
<blockquote>
<div><ul class="simple">
<li>algorithme  robuste</li>
<li>correction distorsion des lentilles</li>
<li>distorsion avancée</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="premier-panoramique">
<h3>Premier panoramique</h3>
<ol class="arabic simple">
<li>téléchargez le groupe d&#8217;images suivantes <a class="reference external" href="http://autopano.kolor.com/sample_pictures.zip">sur ce site</a> (tutoriel autopano, version gratuite) et décompressez les images dans un dossier</li>
<li>lancez Autopano et indiquez l&#8217;emplacement de ce dossier</li>
</ol>
<p>3. Détection :
Lancez la détection, si le logiciel ne l&#8217;a pas déjà fait : cela consiste à déterminer si un panorama est possible avec le lot d&#8217;images analysées. Vous pouvez encore configurer à cette étape la détection de groupe d&#8217;images (basée sur l&#8217;écart temporel de prise de vue), activer ou non un mode automatique, etc.
le logiciel détermine un ou plusieurs panoramas en fonction des images présentes :</p>
<p><img alt="autopano01" src="../_images/autopano_01.png" /></p>
<p>4. Pré-Assemblage :
Le logiciel effectue automatiquement un préassemblage, et il est possible d&#8217;affiner ce travail en ré-éditant les préférences/détection du logiciel, notamment si le pré-assemblage ne donne pas satisfaction (raccords imparfaits, etc.)</p>
<p>5. Édition du préassemblage :
Cliquez sur le bouton &#8220;éditer le panorama&#8221; <img alt="autopano02" src="../_images/autopano_02.png" /></p>
<p>Le nombre d&#8217;options est important, et nécessite un peu de réflexion :</p>
<ul>
<li><dl class="first docutils">
<dt>modes de projection:</dt>
<dd><ul class="first last simple">
<li><em>sphérique (par défaut)</em> : convient pour des photos panoramiques de plus de 110° de champ horizontal et jusqu&#8217;à 360°, quelque soit l&#8217;endroit où l&#8217;on a placé la ligne d&#8217;horizon. C&#8217;est donc parfait si l&#8217;on a orienté l&#8217;appareil photo vers le haut ou la bas pour simuler un objectif à décentrement. Ce mode a tendance a tasser un peu le haut de la photo.</li>
<li><em>cylindrique</em> : convient pour des photos de 110° ou plus mais à la condition qu&#8217;il y est peu de décentrement auquel cas le haut (ou le bas) de la photo sera très, trop, étiré. C&#8217;est très disgracieux. Quand la ligne d&#8217;horizon est proche du milieu de la photo c&#8217;est un rendu agréable</li>
<li><em>rectilinéaire</em> : ne convient guère aux photos dont l&#8217;angle de champ dépasse les 100° à l&#8217;horizontal car comme cette géométrie est orthoscopique, les bords de l&#8217;image sont de plus en plus étirés, comme avec un vrai 14 mm</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">vue par image</p>
</li>
<li><p class="first">mise à niveau/redressement : on peut redresser les perspectives</p>
</li>
<li><p class="first">harmonisation des niveaux : ont peut égaliser les tons de différentes images en en prenant une comme repère (ancre)</p>
</li>
</ul>
<p>Vous pouvez redresser l&#8217;image, ajouter des ligne verticales/horizontales pour &#8220;aider&#8221; le logiciel, retailler l&#8217;image, etc.</p>
<p>6. Rendu :
Cliquez sur le bouton &#8220;effectuez&#8221; le rendu pour réaliser l&#8217;assemblage final</p>
<ul>
<li><dl class="first docutils">
<dt>Taille de sortie :</dt>
<dd><ul class="first last simple">
<li>restons à 100% de la taille originelle</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Algorithme :</dt>
<dd><ul class="first last simple">
<li>bicubique la plupart du temps</li>
<li>bilinéaire le restant ...(rendu rapide)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Mélangeur :</dt>
<dd><ul class="first last simple">
<li>Smartblend</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Format :</dt>
<dd><ul class="first last simple">
<li>si c&#8217;est pour réaliser un &#8220;fond de plan&#8221; à insérer dans un logiciel de dessin comme AutoCAD, on a intérêt à minimiser la taille de l&#8217;image, donc sa qualité : <strong>jpg</strong></li>
<li>si c&#8217;est pour imprimer ce panorama sur une feuille double A0, poussons les courseurs à fond ... <strong>psd/psb</strong></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="a-faire">
<h3>À faire</h3>
<p>Allez, au travail!</p>
<p>Contexte &#8220;professionnel&#8221; : vous venez de scanner en 18 passes (format A3 avec recouvrement entre les scans) un plan papier A0 datant de 1960.</p>
<p>Il vous faut maintenant assembler ces 18 images, que vous pouvez télécharger <a class="reference external" href="http://www.canopee.org/fichiers/teb-d/images/panoramas/scans_plan-papier-A0_maison-Turlier/">sur le site canopee</a></p>
<p>Vous y verrez un sous-dossier portant le même nom, avec le terme &#8220;_phatch&#8221; à la fin : c&#8217;est le nom d&#8217;un logiciel de traitement par lot d&#8217;images : j&#8217;ai pu réduire leur taille de 3Mo à 300 KO en 1 minute seulement! Ce logiciel <a class="reference external" href="http://photobatch.stani.be/">phatch</a> fonctionne aussi bien sous windows que linux. Il est très pratique pour réaliser un traitement identique (ici : réduction de la taille des images) sur un ensembles d&#8217;images (il est gratuit bien sûr).</p>
<p>Nota : le résultat de ce travail doit être importé dans AutoCAD, mis à l&#8217;échelle et entièrement re-dessiné.</p>
<p>Pour votre confort ... je vous laisse admire/utiliser le résultat à <a class="reference external" href="http://www.canopee.org/fichiers/teb-d/images/panoramas/scans_plan-papier-A0_maison-Turlier/">l&#8217;adresse web précédente</a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="../index.html">
  <img class="logo" src="../_static/canopee_logo.png" alt="Logo"/>
</a></p>
  <h3><a href="../index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Scan et assemblage d&#8217;images</a><ul>
<li><a class="reference internal" href="#scan-considerations-generales">Scan : considérations générales</a></li>
<li><a class="reference internal" href="#scan-psd">Scan : Photoshop</a><ul>
<li><a class="reference internal" href="#scan">Scan</a></li>
<li><a class="reference internal" href="#post-traitement-des-images">Post-traitement des images</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scan-gimp">Scan : Gimp</a></li>
<li><a class="reference internal" href="#assemblage-photoshop">Assemblage : Photoshop</a><ul>
<li><a class="reference internal" href="#id1">Gimp</a></li>
</ul>
</li>
<li><a class="reference internal" href="#assemblage-autopano-pro">Assemblage : Autopano Pro</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#premier-panoramique">Premier panoramique</a></li>
<li><a class="reference internal" href="#a-faire">À faire</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Photoshop</a><ul>
      <li>Previous: <a href="jaquette_CD.html" title="Chapitre précédent">Préparer une jaquette de CD</a></li>
      <li>Next: <a href="faq_psd.html" title="Chapitre suivant">FAQ Photoshop</a></li>
  </ul></li>
  </ul></li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2016, Olivier TURLIER, http://canopee.org.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>